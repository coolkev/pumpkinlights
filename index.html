<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Pumpkin Lights</title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    
    <script>

        $(document).ready(function() {

            for (var x = 0; x < 8; x++) {

                $('.lights').append($('<label><input type="checkbox" value="' + (x + 1) + '" /> ' + (x + 1) + '</label>'));

            }
            
            
            $('.lights input').click(function() {

                $.get('/light/' + this.value + '/' + (this.checked ? 'on' : 'off'));
                
                if (this.value == 0) {
                    $('.lights input:gt(0)').prop('checked', this.checked);
                }
            });

            $('#playmusic').click(function() {

                $.get('/music/start');


            });

            $('#stopmusic').click(function () {

                $.get('/music/stop');


            });


            $(document).keydown(function(evt) {
                //96 = 0
                
                if (evt.which >= 96 && evt.which <= 104) {
                    var index = evt.which - 96;
                    var chk = $('.lights input:eq(' + index + ')');
                    chk.click();
                }
                //$('#keylog').append($('<div/>').text(evt.which));

            });
        });
    </script>
</head>
    <body>
    
        
        
        <div class="lights">
            <label><input type="checkbox" value="0" /> All </label>
        </div>
        
        
        
        <input type="button" id="playmusic" value="Play"/>
        <input type="button" id="stopmusic" value="Stop"/>
        
        
        
        <div id="keylog"></div>
    </body>

</html>
